<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:composite="http://java.sun.com/jsf/composite">

    <composite:interface componentType="paginator">
        <composite:attribute name="currentPage" type="java.lang.Integer"/>
        <composite:attribute name="pageItems" type="java.lang.Integer"/>
        <composite:attribute name="countAllItems" type="java.lang.Integer"/>

        <composite:attribute name="list" type="java.util.List"/>

        <composite:attribute name="action" method-signature="void action(java.lang.Integer"/>
    </composite:interface>

    <composite:implementation>
        <ui:repeat size="#{cc.attrs.countAllItems}" value="#{cc.attrs.list}" var="link" varStatus="status" step="1">
            <h:commandLink styleClass="#{cc.attrs.currentPage eq status.index ? 'selected' : ''}"
                           action="#{users.action(status.index)}">
                <h:outputText value="#{status.index}" var="row"/>
                <f:ajax render="@form" event="click"/>
            </h:commandLink>
        </ui:repeat>

        <h:selectOneMenu value="#{cc.attrs.pageItems}">
            <f:selectItem itemValue="3" itemLabel="3"/>
            <f:selectItem itemValue="5" itemLabel="5"/>
            <f:ajax render="@form" event="change"/>
        </h:selectOneMenu>
    </composite:implementation>
</ui:composition>

